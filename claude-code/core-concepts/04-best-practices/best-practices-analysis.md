# Best Practices 심층 분석 & 생산성 극대화 전략

## 핵심 통찰: 모든 것은 "컨텍스트 윈도우"에서 시작된다

이 문서의 거의 모든 조언은 하나의 근본 제약으로 수렴합니다:

> **컨텍스트 윈도우는 유한한 자원이며, 채워질수록 성능이 떨어진다.**

Claude Code는 챗봇이 아니라 **에이전트**입니다. 파일을 읽고, 명령을 실행하고, 코드를 수정합니다. 이 모든 행동의 입출력이 컨텍스트에 쌓입니다. 디버깅 한 번이면 수만 토큰이 소비됩니다. 이것을 이해하면 나머지 모든 모범 사례가 자연스럽게 따라옵니다.

---

## 1. 검증 루프를 반드시 만들어라 (가장 중요)

문서가 "single highest-leverage thing"이라고 명시한 유일한 항목입니다.

**왜 중요한가:** Claude는 "그럴듯하게 보이는" 코드를 잘 만듭니다. 하지만 검증 없이는 실제로 동작하는지 알 수 없고, 여러분이 직접 확인해야 합니다. 이러면 에이전트를 쓰는 의미가 반감됩니다.

**실전 적용법:**
- 구현을 요청할 때 **항상 테스트 케이스나 검증 명령을 함께 지시**하세요
- `"구현하고 테스트 실행해"`, `"빌드가 통과하는지 확인해"` 같은 문구를 습관적으로 붙이세요
- UI 작업이면 스크린샷 비교를 요청하세요
- **핵심:** Claude가 스스로 틀렸음을 발견하고 수정하는 자율 피드백 루프를 만드는 것

---

## 2. 탐색 → 계획 → 구현 → 커밋 (4단계 워크플로우)

이것은 단순한 제안이 아니라, 복잡한 작업에서 실패율을 크게 줄이는 구조적 패턴입니다.

**왜 효과적인가:**
- **탐색 단계**에서 Plan Mode를 쓰면 Claude가 코드를 변경하지 않으므로 안전합니다
- **계획 단계**에서 접근 방식을 확정하면, 구현 중 "잘못된 방향으로 가서 되돌리기"가 줄어듭니다
- 계획을 `Ctrl+G`로 에디터에서 직접 수정할 수 있어 여러분의 의도를 정확히 반영합니다

**언제 건너뛰어도 되는가:**
- diff를 한 문장으로 설명할 수 있을 때 (오타 수정, 변수 이름 변경 등)
- 확실히 아는 코드의 작은 수정

---

## 3. 프롬프트 품질이 결과 품질을 결정한다

문서의 Before/After 비교 테이블이 핵심입니다. 패턴을 요약하면:

| 나쁜 프롬프트의 특징 | 좋은 프롬프트의 특징 |
|---|---|
| 모호한 목표 ("더 좋게 만들어") | 구체적인 완료 조건 |
| 위치 미지정 ("버그 수정해") | 파일 경로, 에러 메시지 포함 |
| 패턴 미지정 ("위젯 추가해") | 기존 코드 참조 (`@HotDogWidget.php처럼`) |
| 검증 방법 없음 | 테스트 실행, 스크린샷 비교 지시 |

**실전 팁:** `@` 기호로 파일을 직접 참조하면 Claude가 먼저 파일을 읽고 응답합니다. 설명하는 것보다 훨씬 정확합니다.

---

## 4. CLAUDE.md는 "코드"처럼 관리하라

CLAUDE.md는 매 세션마다 로드되는 시스템 프롬프트와 같습니다. 문서가 강조하는 핵심 원칙들:

- **짧게 유지**: 너무 길면 Claude가 규칙을 무시합니다. 각 줄에 대해 "이것 없으면 Claude가 실수하나?" 질문하세요
- **코드에서 추론 불가능한 것만**: `"깨끗한 코드 작성"` 같은 자명한 것은 불필요
- **git에 체크인**: 팀 전체가 동일한 지침을 공유
- **정기적으로 정리**: 시간이 지나면 낡은 규칙이 쌓임
- **강조 표시 활용**: 중요한 규칙에는 "IMPORTANT", "YOU MUST" 사용

---

## 5. 컨텍스트 관리가 곧 성능 관리다

문서에서 반복적으로 강조하는 가장 실전적인 조언들:

- **`/clear`를 자주 사용하세요**: 관련 없는 작업 사이에 반드시. 이것만 해도 체감 성능이 크게 올라갑니다
- **같은 문제로 2번 이상 수정했으면 `/clear` 후 새 프롬프트**: 실패한 시도들이 컨텍스트를 오염시킵니다
- **서브에이전트로 조사를 위임하세요**: 코드베이스 탐색은 토큰을 대량 소비합니다. 서브에이전트가 별도 컨텍스트에서 탐색하고 요약만 보고합니다
- **`/compact`로 수동 압축**: `/compact API 변경에 집중해` 같이 무엇을 보존할지 지정 가능

---

## 6. 수평 확장: 하나의 Claude를 넘어서

생산성의 가장 큰 도약은 병렬화에서 옵니다:

- **작성자/리뷰어 패턴**: 세션 A에서 구현, 세션 B에서 리뷰. 새 컨텍스트이므로 자기 코드에 대한 편향이 없음
- **테스트 분리**: 세션 A에서 테스트 작성, 세션 B에서 테스트를 통과하는 코드 작성
- **대규모 팬아웃**: `claude -p`를 루프로 돌려 수천 개 파일을 병렬 마이그레이션
- **헤드리스 모드**: CI/CD, pre-commit hook에 통합하여 자동화

---

## 7. 피해야 할 5가지 안티패턴

| 안티패턴 | 증상 | 해결법 |
|---|---|---|
| 뒤죽박죽 세션 | 한 세션에서 관련 없는 작업 섞기 | `/clear`로 분리 |
| 반복 수정 | 같은 실수를 계속 수정 시도 | 2회 실패 후 `/clear` + 더 좋은 프롬프트 |
| 과도한 CLAUDE.md | CLAUDE.md가 너무 길어 규칙이 무시됨 | 가차없이 정리, 훅으로 대체 |
| 신뢰 후 검증 격차 | 검증 없이 Claude 출력을 그대로 사용 | 테스트/스크린샷/스크립트 필수 |
| 무한 탐색 | 범위 없는 코드베이스 조사로 컨텍스트 소진 | 범위 제한 또는 서브에이전트 위임 |

---

## 실전 생산성 체크리스트

지금 바로 적용할 수 있는 것들을 우선순위로 정리하면:

1. **`/init`으로 CLAUDE.md 생성** → 바로 시작 가능한 기반
2. **모든 구현 요청에 검증 단계 포함** → `"테스트 실행해"`, `"빌드 확인해"` 습관화
3. **`/clear`를 작업 전환 시마다 사용** → 가장 쉽고 효과 큰 습관
4. **`gh` CLI 설치** → GitHub 작업의 효율이 크게 향상
5. **복잡한 작업은 Plan Mode로 시작** → `Shift+Tab`으로 전환
6. **서브에이전트로 조사 위임** → `"서브에이전트를 사용하여 X 조사해"`
7. **반복 워크플로우는 스킬로 정의** → `/fix-issue 1234` 같은 한 줄 호출

---

문서의 마지막 메시지가 가장 중요합니다: 이 모든 규칙은 **출발점**이지 절대 법칙이 아닙니다. 실제 사용하면서 어떤 패턴이 효과적인지 관찰하고, 자신만의 직관을 키워가세요.
